{"ast":null,"code":"var _jsxFileName = \"/Users/hao/Desktop/project-h/src/feed/Feed.js\";\nimport React, { Component } from \"react\";\nimport \"./Feed.css\";\nimport StoryReel from \"./StoryReel\";\nimport MessageSender from \"./MessageSender\";\nimport Post from \"./Post\";\nimport * as actionCreators from './store/actionCreators';\nimport { connect } from \"react-redux\";\nimport axios from 'axios';\n\nclass Feed extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"feed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(StoryReel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(MessageSender, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 11\n      }\n    }), this.props.articleList.map(item => {\n      return /*#__PURE__*/React.createElement(Post, {\n        profilePic: \"/logo.png\",\n        title: item.get('title'),\n        desc: item.get('desc'),\n        timestamp: item.get('timestamp'),\n        username: item.get('username'),\n        imgUrl: item.get('imgUrl'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 19\n        }\n      });\n    }));\n  }\n\n  componentDidMount() {\n    axios.get('/api/feed.json').then(res => {\n      const result = res.data.data;\n      const action = {\n        type: 'change_home_data',\n        articleList: result.articleList\n      };\n      console.log(result);\n    });\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    // 第一个get('login')指的是login中的store中的reducer\n    articleList: state.get('feed').get('articleList')\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    click1(login, accountElem, passwordElem) {\n      if (!login) {\n        //dispatch(actionCreators.logIn());\n        dispatch(actionCreators.getList(accountElem.value, passwordElem.value));\n        console.log('logggg');\n        console.log(accountElem);\n      } else console.log('error');\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Feed);","map":{"version":3,"sources":["/Users/hao/Desktop/project-h/src/feed/Feed.js"],"names":["React","Component","StoryReel","MessageSender","Post","actionCreators","connect","axios","Feed","render","props","articleList","map","item","get","componentDidMount","then","res","result","data","action","type","console","log","mapStateToProps","state","mapDispatchToProps","dispatch","click1","login","accountElem","passwordElem","getList","value"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,YAAP;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAQ,KAAKC,cAAb,MAAiC,wBAAjC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,IAAN,SAAmBP,SAAnB,CAA4B;AAC1BQ,EAAAA,MAAM,GAAE;AACN,wBACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAII,KAAKC,KAAL,CAAWC,WAAX,CAAuBC,GAAvB,CAA4BC,IAAD,IACtB;AACH,0BACI,oBAAC,IAAD;AACI,QAAA,UAAU,EAAC,WADf;AAEI,QAAA,KAAK,EAAEA,IAAI,CAACC,GAAL,CAAS,OAAT,CAFX;AAGI,QAAA,IAAI,EAAED,IAAI,CAACC,GAAL,CAAS,MAAT,CAHV;AAII,QAAA,SAAS,EAAED,IAAI,CAACC,GAAL,CAAS,WAAT,CAJf;AAKI,QAAA,QAAQ,EAAED,IAAI,CAACC,GAAL,CAAS,UAAT,CALd;AAMI,QAAA,MAAM,EAAED,IAAI,CAACC,GAAL,CAAS,QAAT,CANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAUD,KAZD,CAJJ,CADJ;AAqBD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBR,IAAAA,KAAK,CAACO,GAAN,CAAU,gBAAV,EAA4BE,IAA5B,CAAkCC,GAAD,IAAS;AACxC,YAAMC,MAAM,GAAGD,GAAG,CAACE,IAAJ,CAASA,IAAxB;AACA,YAAMC,MAAM,GAAG;AACbC,QAAAA,IAAI,EAAE,kBADO;AAEbV,QAAAA,WAAW,EAAEO,MAAM,CAACP;AAFP,OAAf;AAIAW,MAAAA,OAAO,CAACC,GAAR,CAAYL,MAAZ;AACD,KAPD;AAQD;;AAlCyB;;AAqC5B,MAAMM,eAAe,GAAIC,KAAD,IAAU;AAChC,SAAM;AACJ;AACAd,IAAAA,WAAW,EAAEc,KAAK,CAACX,GAAN,CAAU,MAAV,EAAkBA,GAAlB,CAAsB,aAAtB;AAFT,GAAN;AAID,CALD;;AAOA,MAAMY,kBAAkB,GAAIC,QAAD,IAAa;AACtC,SAAM;AACJC,IAAAA,MAAM,CAACC,KAAD,EAAOC,WAAP,EAAoBC,YAApB,EAAiC;AACrC,UAAI,CAACF,KAAL,EAAW;AACT;AACAF,QAAAA,QAAQ,CAACtB,cAAc,CAAC2B,OAAf,CAAuBF,WAAW,CAACG,KAAnC,EAA0CF,YAAY,CAACE,KAAvD,CAAD,CAAR;AACAX,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYO,WAAZ;AACD,OALD,MAMKR,OAAO,CAACC,GAAR,CAAY,OAAZ;AAEN;;AAVG,GAAN;AAYD,CAbD;;AAeA,eAAejB,OAAO,CAACkB,eAAD,EAAiBE,kBAAjB,CAAP,CAA4ClB,IAA5C,CAAf","sourcesContent":["import React, {Component} from \"react\";\nimport \"./Feed.css\";\nimport StoryReel from \"./StoryReel\";\nimport MessageSender from \"./MessageSender\";\nimport Post from \"./Post\";\nimport  * as actionCreators from './store/actionCreators';\nimport {connect} from \"react-redux\";\nimport axios from 'axios';\n\nclass Feed extends Component{\n  render(){\n    return (\n        <div className=\"feed\">\n          <StoryReel />\n          <MessageSender />\n          {\n            this.props.articleList.map((item\n            ) => {\n              return(\n                  <Post\n                      profilePic=\"/logo.png\"\n                      title={item.get('title')}\n                      desc={item.get('desc')}\n                      timestamp={item.get('timestamp')}\n                      username={item.get('username')}\n                      imgUrl={item.get('imgUrl')}\n                  />\n              )\n            })\n          }\n        </div>\n    );\n  }\n\n  componentDidMount() {\n    axios.get('/api/feed.json').then((res) => {\n      const result = res.data.data;\n      const action = {\n        type: 'change_home_data',\n        articleList: result.articleList\n      }\n      console.log(result);\n    })\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return{\n    // 第一个get('login')指的是login中的store中的reducer\n    articleList: state.get('feed').get('articleList')\n  }\n}\n\nconst mapDispatchToProps = (dispatch) =>{\n  return{\n    click1(login,accountElem, passwordElem){\n      if (!login){\n        //dispatch(actionCreators.logIn());\n        dispatch(actionCreators.getList(accountElem.value, passwordElem.value));\n        console.log('logggg');\n        console.log(accountElem);\n      }\n      else console.log('error');\n\n    }\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Feed);"]},"metadata":{},"sourceType":"module"}