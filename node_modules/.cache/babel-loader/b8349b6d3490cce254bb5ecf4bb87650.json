{"ast":null,"code":"var _jsxFileName = \"/Users/hao/Desktop/project-h/src/feed/Feed.js\";\nimport React, { Component } from \"react\";\nimport \"./Feed.css\";\nimport StoryReel from \"./StoryReel\";\nimport MessageSender from \"./MessageSender\";\nimport Post from \"./Post\";\nimport * as actionCreators from './store/actionCreators';\nimport { connect } from \"react-redux\";\nimport axios from 'axios';\n\nclass Feed extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"feed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(StoryReel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(MessageSender, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 11\n      }\n    }), this.props.articleList.map((item, index) => {\n      return /*#__PURE__*/React.createElement(Post, {\n        key: index,\n        profilePic: \"/logo.png\",\n        title: item.get('title'),\n        desc: item.get('desc'),\n        timestamp: item.get('timestamp'),\n        username: item.get('username'),\n        imgUrl: item.get('imgUrl'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 19\n        }\n      });\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loadMore\",\n      onClick: () => this.props.getMoreList(this.props.page),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }\n    }, \"Load More\"));\n  }\n\n  componentDidMount() {\n    this.props.getFeedData();\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getFeedData() {\n      axios.get('/api/feed.json').then(res => {\n        const result = res.data.data;\n        const action = {\n          type: 'get_feed_data',\n          articleList: result.articleList\n        };\n        dispatch(action);\n      });\n    },\n\n    getMoreList(page) {\n      dispatch(actionCreators.getMoreList());\n    }\n\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    // 第一个get('login')指的是login中的store中的reducer\n    articleList: state.get('feed').get('articleList'),\n    page: state.get('feed').get('articlePage')\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Feed);","map":{"version":3,"sources":["/Users/hao/Desktop/project-h/src/feed/Feed.js"],"names":["React","Component","StoryReel","MessageSender","Post","actionCreators","connect","axios","Feed","render","props","articleList","map","item","index","get","getMoreList","page","componentDidMount","getFeedData","mapDispatchToProps","dispatch","then","res","result","data","action","type","mapStateToProps","state"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,YAAP;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAQ,KAAKC,cAAb,MAAiC,wBAAjC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,IAAN,SAAmBP,SAAnB,CAA6B;AAC3BQ,EAAAA,MAAM,GAAG;AACP,wBACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAII,KAAKC,KAAL,CAAWC,WAAX,CAAuBC,GAAvB,CAA2B,CAACC,IAAD,EAAMC,KAAN,KACtB;AACH,0BACI,oBAAC,IAAD;AACI,QAAA,GAAG,EAAEA,KADT;AAEI,QAAA,UAAU,EAAC,WAFf;AAGI,QAAA,KAAK,EAAED,IAAI,CAACE,GAAL,CAAS,OAAT,CAHX;AAII,QAAA,IAAI,EAAEF,IAAI,CAACE,GAAL,CAAS,MAAT,CAJV;AAKI,QAAA,SAAS,EAAEF,IAAI,CAACE,GAAL,CAAS,WAAT,CALf;AAMI,QAAA,QAAQ,EAAEF,IAAI,CAACE,GAAL,CAAS,UAAT,CANd;AAOI,QAAA,MAAM,EAAEF,IAAI,CAACE,GAAL,CAAS,QAAT,CAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAWD,KAbD,CAJJ,eAmBE;AACI,MAAA,SAAS,EAAC,UADd;AAEI,MAAA,OAAO,EAAE,MAAM,KAAKL,KAAL,CAAWM,WAAX,CAAuB,KAAKN,KAAL,CAAWO,IAAlC,CAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAnBF,CADJ;AAyBD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKR,KAAL,CAAWS,WAAX;AACD;;AA/B0B;;AAkC7B,MAAMC,kBAAkB,GAAIC,QAAD,IAAa;AACtC,SAAM;AACJF,IAAAA,WAAW,GAAE;AACXZ,MAAAA,KAAK,CAACQ,GAAN,CAAU,gBAAV,EAA4BO,IAA5B,CAAkCC,GAAD,IAAS;AACxC,cAAMC,MAAM,GAAGD,GAAG,CAACE,IAAJ,CAASA,IAAxB;AACA,cAAMC,MAAM,GAAG;AACbC,UAAAA,IAAI,EAAE,eADO;AAEbhB,UAAAA,WAAW,EAAEa,MAAM,CAACb;AAFP,SAAf;AAIAU,QAAAA,QAAQ,CAACK,MAAD,CAAR;AACD,OAPD;AAQD,KAVG;;AAYJV,IAAAA,WAAW,CAACC,IAAD,EAAM;AACfI,MAAAA,QAAQ,CAAChB,cAAc,CAACW,WAAf,EAAD,CAAR;AACD;;AAdG,GAAN;AAgBD,CAjBD;;AAmBA,MAAMY,eAAe,GAAIC,KAAD,IAAU;AAChC,SAAM;AACJ;AACAlB,IAAAA,WAAW,EAAEkB,KAAK,CAACd,GAAN,CAAU,MAAV,EAAkBA,GAAlB,CAAsB,aAAtB,CAFT;AAGJE,IAAAA,IAAI,EAAEY,KAAK,CAACd,GAAN,CAAU,MAAV,EAAkBA,GAAlB,CAAsB,aAAtB;AAHF,GAAN;AAKD,CAND;;AAQA,eAAeT,OAAO,CAACsB,eAAD,EAAiBR,kBAAjB,CAAP,CAA4CZ,IAA5C,CAAf","sourcesContent":["import React, {Component} from \"react\";\nimport \"./Feed.css\";\nimport StoryReel from \"./StoryReel\";\nimport MessageSender from \"./MessageSender\";\nimport Post from \"./Post\";\nimport  * as actionCreators from './store/actionCreators';\nimport {connect} from \"react-redux\";\nimport axios from 'axios';\n\nclass Feed extends Component {\n  render() {\n    return (\n        <div className=\"feed\">\n          <StoryReel/>\n          <MessageSender/>\n          {\n            this.props.articleList.map((item,index\n            ) => {\n              return (\n                  <Post\n                      key={index}\n                      profilePic=\"/logo.png\"\n                      title={item.get('title')}\n                      desc={item.get('desc')}\n                      timestamp={item.get('timestamp')}\n                      username={item.get('username')}\n                      imgUrl={item.get('imgUrl')}\n                  />\n              )\n            })\n          }\n          <div\n              className=\"loadMore\"\n              onClick={() => this.props.getMoreList(this.props.page)}>Load More</div>\n        </div>\n    );\n  }\n\n  componentDidMount() {\n    this.props.getFeedData();\n  }\n}\n\nconst mapDispatchToProps = (dispatch) =>{\n  return{\n    getFeedData(){\n      axios.get('/api/feed.json').then((res) => {\n        const result = res.data.data;\n        const action = {\n          type: 'get_feed_data',\n          articleList: result.articleList\n        }\n        dispatch(action);\n      })\n    },\n\n    getMoreList(page){\n      dispatch(actionCreators.getMoreList());\n    }\n  }\n}\n\nconst mapStateToProps = (state) =>{\n  return{\n    // 第一个get('login')指的是login中的store中的reducer\n    articleList: state.get('feed').get('articleList'),\n    page: state.get('feed').get('articlePage')\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Feed);"]},"metadata":{},"sourceType":"module"}