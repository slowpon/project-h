{"ast":null,"code":"import axios from 'axios';\nimport { fromJS } from 'immutable'; // 直接返回对象\n\nexport const logIn = () => ({\n  type: 'log'\n});\nexport const logout = () => ({\n  type: 'change_logout',\n  value: false\n});\n\nconst changeLoginState = id => ({\n  type: 'change_log_state',\n  id: fromJS(id)\n});\n\nexport const getLis = (account, password) => {\n  return dispatch => {\n    axios.get('/api/headerList.json?account=' + account + '&password=' + password).then(res => {\n      const data = res.data;\n\n      if (data.success === true) {\n        console.log(data.success);\n        dispatch(logIn());\n      } else {\n        alert('login failed');\n      }\n\n      dispatch(changeLoginState(data.id));\n    }).catch(() => {\n      console.log('error');\n    });\n  };\n};","map":{"version":3,"sources":["/Users/hao/Desktop/project-h/src/feed/store/actionCreators.js"],"names":["axios","fromJS","logIn","type","logout","value","changeLoginState","id","getLis","account","password","dispatch","get","then","res","data","success","console","log","alert","catch"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,QAAqB,WAArB,C,CAEA;;AACA,OAAO,MAAMC,KAAK,GAAG,OAAO;AAC1BC,EAAAA,IAAI,EAAE;AADoB,CAAP,CAAd;AAIP,OAAO,MAAMC,MAAM,GAAG,OAAO;AAC3BD,EAAAA,IAAI,EAAE,eADqB;AAE3BE,EAAAA,KAAK,EAAE;AAFoB,CAAP,CAAf;;AAKP,MAAMC,gBAAgB,GAAIC,EAAD,KAAS;AAChCJ,EAAAA,IAAI,EAAE,kBAD0B;AAEhCI,EAAAA,EAAE,EAAEN,MAAM,CAACM,EAAD;AAFsB,CAAT,CAAzB;;AAKA,OAAO,MAAMC,MAAM,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAuB;AAC3C,SAAQC,QAAD,IAAc;AACnBX,IAAAA,KAAK,CAACY,GAAN,CAAU,kCAAkCH,OAAlC,GAA4C,YAA5C,GAA2DC,QAArE,EAA+EG,IAA/E,CAAqFC,GAAD,IAAQ;AAC1F,YAAMC,IAAI,GAAGD,GAAG,CAACC,IAAjB;;AAEA,UAAIA,IAAI,CAACC,OAAL,KAAiB,IAArB,EAA0B;AACxBC,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,OAAjB;AACAL,QAAAA,QAAQ,CAACT,KAAK,EAAN,CAAR;AACD,OAHD,MAGM;AACJiB,QAAAA,KAAK,CAAC,cAAD,CAAL;AACD;;AACDR,MAAAA,QAAQ,CAACL,gBAAgB,CAACS,IAAI,CAACR,EAAN,CAAjB,CAAR;AACD,KAVD,EAUGa,KAVH,CAUS,MAAM;AACbH,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACD,KAZD;AAaD,GAdD;AAeD,CAhBM","sourcesContent":["import axios from 'axios';\nimport {fromJS} from 'immutable';\n\n// 直接返回对象\nexport const logIn = () => ({\n  type: 'log'\n})\n\nexport const logout = () => ({\n  type: 'change_logout',\n  value: false\n})\n\nconst changeLoginState = (id) => ({\n  type: 'change_log_state',\n  id: fromJS(id)\n})\n\nexport const getLis = (account, password) => {\n  return (dispatch) => {\n    axios.get('/api/headerList.json?account=' + account + '&password=' + password).then((res) =>{\n      const data = res.data;\n\n      if (data.success === true){\n        console.log(data.success);\n        dispatch(logIn());\n      }else {\n        alert('login failed')\n      }\n      dispatch(changeLoginState(data.id))\n    }).catch(() => {\n      console.log('error');\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}